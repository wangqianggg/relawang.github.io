<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>DFS1 | 👻👻👻相对rela的个人博客👻👻👻</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="深度优先搜索算法（DFS）（一）参考：DFS(深度优先搜索算法)DFS（一）：深度优先搜索的基本思想深度优先搜索（DFS）算法详解 00 🍔🍔🍔一天摸鱼一天爽，天天摸鱼天天爽；最近的系统学习没有记录，零零碎碎的工作也无法记录；闲暇时间刷刷题，碰到了让人头疼的一道题：DFS算法；浅学一下⑧ 01 DFS基本思想深度优先搜索算法（Depth First Search，简称DFS）  图&amp;#x2F">
<meta property="og:type" content="article">
<meta property="og:title" content="DFS1">
<meta property="og:url" content="https://wangqianggg.github.io/2023/10/26/DFS1/index.html">
<meta property="og:site_name" content="👻👻👻相对rela的个人博客👻👻👻">
<meta property="og:description" content="深度优先搜索算法（DFS）（一）参考：DFS(深度优先搜索算法)DFS（一）：深度优先搜索的基本思想深度优先搜索（DFS）算法详解 00 🍔🍔🍔一天摸鱼一天爽，天天摸鱼天天爽；最近的系统学习没有记录，零零碎碎的工作也无法记录；闲暇时间刷刷题，碰到了让人头疼的一道题：DFS算法；浅学一下⑧ 01 DFS基本思想深度优先搜索算法（Depth First Search，简称DFS）  图&amp;#x2F">
<meta property="og:locale">
<meta property="og:image" content="https://raw.githubusercontent.com/wangqianggg/Images/main/PicGo/202310251958308.png">
<meta property="article:published_time" content="2023-10-26T07:39:38.000Z">
<meta property="article:modified_time" content="2023-10-26T07:40:57.973Z">
<meta property="article:author" content="relaWang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/wangqianggg/Images/main/PicGo/202310251958308.png">
  
    <link rel="alternate" href="/atom.xml" title="👻👻👻相对rela的个人博客👻👻👻" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">👻👻👻相对rela的个人博客👻👻👻</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="Flux RSS"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Rechercher"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Rechercher"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wangqianggg.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-DFS1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/26/DFS1/" class="article-date">
  <time class="dt-published" datetime="2023-10-26T07:39:38.000Z" itemprop="datePublished">2023-10-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      DFS1
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="深度优先搜索算法（DFS）（一）"><a href="#深度优先搜索算法（DFS）（一）" class="headerlink" title="深度优先搜索算法（DFS）（一）"></a>深度优先搜索算法（DFS）（一）</h2><p>参考：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43272781/article/details/82959089">DFS(深度优先搜索算法)</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/cs-whut/p/11147213.html">DFS（一）：深度优先搜索的基本思想</a><br><a target="_blank" rel="noopener" href="http://data.biancheng.net/view/325.html">深度优先搜索（DFS）算法详解</a></p>
<h3 id="00-🍔🍔🍔"><a href="#00-🍔🍔🍔" class="headerlink" title="00 🍔🍔🍔"></a>00 🍔🍔🍔</h3><p>一天摸鱼一天爽，天天摸鱼天天爽；<br>最近的系统学习没有记录，零零碎碎的工作也无法记录；<br>闲暇时间刷刷题，碰到了让人头疼的一道题：DFS算法；<br>浅学一下⑧</p>
<h3 id="01-DFS基本思想"><a href="#01-DFS基本思想" class="headerlink" title="01 DFS基本思想"></a>01 DFS基本思想</h3><p>深度优先搜索算法（Depth First Search，简称DFS）</p>
<ul>
<li>图&#x2F;树</li>
<li>用于遍历或搜索</li>
<li>搜索的最糟情况时间复杂度为O(!n)</li>
</ul>
<p>深度优先搜索算法：从某一节点出发，沿深度进行搜索节点，当相邻无未被搜索节点时，回溯到有未被搜索节点处，重复上述动作，直至全部节点被搜索（遍历）。<br>假设从顶点 V 出发，则最终还会回退到顶点 V。此时，深度优先搜索算法会从所有顶点中重新找一个尚未访问的顶点，如果能找到，则以同样的方式继续寻找其它未访问的顶点；如果找不到，则算法执行结束。</p>
<p>回溯法（探索与回溯法）是一种选优搜索法，又称为试探法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，就退回一步重新选择，这种走不通就退回再走的技术为回溯法，而满足回溯条件的某个状态的点称为“回溯点”。 </p>
<p>模板（C）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">check</span><span class="params">(参数)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(满足条件)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> step)</span></span><br><span class="line">&#123;</span><br><span class="line">        判断边界</span><br><span class="line">        &#123;</span><br><span class="line">            相应操作</span><br><span class="line">        &#125;</span><br><span class="line">        尝试每一种可能</span><br><span class="line">        &#123;</span><br><span class="line">               满足check条件</span><br><span class="line">               标记</span><br><span class="line">               继续下一步dfs(step+<span class="number">1</span>)</span><br><span class="line">               恢复初始状态（回溯的时候要用到）</span><br><span class="line">        &#125;</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure>

<h3 id="02-实例"><a href="#02-实例" class="headerlink" title="02 实例"></a>02 实例</h3><h4 id="leetcode题目"><a href="#leetcode题目" class="headerlink" title="leetcode题目"></a>leetcode题目</h4><ol start="2698">
<li>求一个整数的惩罚数<br>给你一个正整数 n ，请你返回 n 的 惩罚数 。<br>n 的 惩罚数 定义为所有满足以下条件 i 的数的平方和：</li>
</ol>
<ul>
<li>1 &lt;&#x3D; i &lt;&#x3D; n</li>
<li>i * i 的十进制表示的字符串可以分割成若干连续子字符串，且这些子字符串对应的整数值之和等于 i</li>
</ul>
<p>示例 1：</p>
<blockquote>
<p>输入：n &#x3D; 10<br>输出：182<br>解释：总共有 3 个整数 i 满足要求：<br>1 ，因为 1 * 1 &#x3D; 1<br>9 ，因为 9 * 9 &#x3D; 81 ，且 81 可以分割成 8 + 1 。<br>10 ，因为 10 * 10 &#x3D; 100 ，且 100 可以分割成 10 + 0 。<br>因此，10 的惩罚数为 1 + 81 + 100 &#x3D; 182</p>
</blockquote>
<p>示例 2：</p>
<blockquote>
<p>输入：n &#x3D; 37<br>输出：1478<br>解释：总共有 4 个整数 i 满足要求：<br>1 ，因为 1 * 1 &#x3D; 1<br>9 ，因为 9 * 9 &#x3D; 81 ，且 81 可以分割成 8 + 1 。<br>10 ，因为 10 * 10 &#x3D; 100 ，且 100 可以分割成 10 + 0 。<br>36 ，因为 36 * 36 &#x3D; 1296 ，且 1296 可以分割成 1 + 29 + 6 。<br>因此，37 的惩罚数为 1 + 81 + 100 + 1296 &#x3D; 1478</p>
</blockquote>
<h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><p>实质上是找到满足要求的整数，再求平方和；<br>对于正整数n，怎么找几个满足要求的整数？自然遍历1~n，判断是否满足要求；<br>判断是否满足要求是重点，常用的循环遍历似乎很难做到，这里就需要用到DFS-深度优先算法来解决。</p>
<p>以36为例，36 * 36 &#x3D; 1296，其中1 + 29 + 6 &#x3D; 36，满足要求；<br>这样看来，就是在1296的基础上进行分割再相加，穷举发现共有八种情况（2^3），分析情况：</p>
<blockquote>
<p>1+2+9+6<br>1+2+96<br>1+29+6			✔️<br>1+296<br>12+9+6<br>12+96<br>129+6<br>1296</p>
</blockquote>
<p>明显，两个单个数字间，无非两种情况，加号连接或者不分割，可以想象成树状结构：</p>
<p><img src="https://raw.githubusercontent.com/wangqianggg/Images/main/PicGo/202310251958308.png" alt="Snipaste_2023-10-25_19-49-33"></p>
<p>通过这个树状结构，可以通过深度优先来进行搜索；<br>以节点‘1’开始，向下搜索，（这里以左侧优先为例），搜索到‘1+2+9+6’节点时，判断条件成立<code>pos == s.Length</code>进行判断；<br>若未满足条件则继续搜索，无法继续向下搜索则进行回溯，返回上一个节点，再搜索未被搜索过的节点……如此反复，直到完成搜索或全部遍历完成；<br>当然，在该题中，为了减少不必要的搜索，可以增加判断条件<code>sum + tot &gt; target</code>即当值大于<code>target</code>时，直接跳出本次循环。</p>
<p><code>DFS(string s, int pos, int tot, int target)</code>函数中，<code>s</code>是目标整数平方值的字符串，即‘1296’，<code>pos</code>是<code>s</code>的索引，<code>tot</code>是当前值（以‘1+2+9+6’为例就是18），<code>target</code>是目标整数，即‘36’；<br>在调用DFS时，输入的<code>pos</code>和<code>tot</code>均应为0。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">DFS</span>(<span class="params"><span class="built_in">string</span> s, <span class="built_in">int</span> pos, <span class="built_in">int</span> tot, <span class="built_in">int</span> target</span>)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (pos == s.Length) &#123;</span><br><span class="line">           <span class="keyword">return</span> tot == target;</span><br><span class="line">       &#125; </span><br><span class="line">       <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="built_in">int</span> i = pos; i &lt; s.Length; i++) &#123;</span><br><span class="line">           sum = sum * <span class="number">10</span> + s[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">           <span class="keyword">if</span> (sum + tot &gt; target) &#123;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (DFS(s, i + <span class="number">1</span>, sum + tot, target)) &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>那么再补上之前的遍历，完成这道题、：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">PunishmentNumber</span>(<span class="params"><span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">string</span> s = (i * i).ToString();</span><br><span class="line">            <span class="keyword">if</span> (DFS(s, <span class="number">0</span>, <span class="number">0</span>, i)) &#123;</span><br><span class="line">                res += i * i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">DFS</span>(<span class="params"><span class="built_in">string</span> s, <span class="built_in">int</span> pos, <span class="built_in">int</span> tot, <span class="built_in">int</span> target</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (pos == s.Length) &#123;</span><br><span class="line">            <span class="keyword">return</span> tot == target;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = pos; i &lt; s.Length; i++) &#123;</span><br><span class="line">            sum = sum * <span class="number">10</span> + s[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (sum + tot &gt; target) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (DFS(s, i + <span class="number">1</span>, sum + tot, target)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangqianggg.github.io/2023/10/26/DFS1/" data-id="clo6vl20i0000lstkf1tne5nw" data-title="DFS1" class="article-share-link"><span class="fa fa-share">Partager</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/08/31/nvm/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">nvm</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/10/26/DFS1/">DFS1</a>
          </li>
        
          <li>
            <a href="/2023/08/31/nvm/">nvm</a>
          </li>
        
          <li>
            <a href="/2023/08/30/vue1config/">vue1config</a>
          </li>
        
          <li>
            <a href="/2023/08/24/buildblog1/">buildblog1</a>
          </li>
        
          <li>
            <a href="/2023/08/23/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 relaWang<br>
      Propulsé par <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>